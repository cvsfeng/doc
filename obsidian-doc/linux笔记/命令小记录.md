# nc
nc`netcat`是一个非常强大的网络工具，常被称为“瑞士军刀”。它可以用来建立TCP/UDP连接、端口扫描、数据传输、搭建简易服务器/客户端等。
 ## -lk选项拆解：
- l（--listen）：进入监听模式。nc会绑定到一个指定的端口，等待客户端连接。用法：必须配合端口号，例如==nc -l 1234==表示监听本地1234端口。
- -k（--keep-open或--persistent）：保持监听状态。默认情况下，nc在接受一个客户端连接、连接关闭后就会退出。加上-k 后，及时当前连接断开，nc也会继续监听同一端口，等待下一个客户端连接，从而时间“持久监听”，可以一次处理多个客户端。
完整常用命令形式

```
nc -lk 1234
```
1. 监听本地1234端口
2. 支持IPv4和IPv6（取决于nc版本）
3. 默认是TCP协议。如果要UDP，加-u :==nc -lku 1234==
 - 实际行为
	 - 启动后，nc会等待第一个客户端连接。
	 - 客户端连接上来后：
		 - 客户端输入的内容会显示在服务器终端。
		 - 服务器终端输入的内容会发送给客户端。
		 - 相当于一个简单的双向聊天管道。
	- 客户端断开连接后
		- 没有`-k`：nc立即退出。
		- 有`-k` ：nc继续监听，等待下一个客户端连接，重复上述过程。
## 典型应用场景
### 聊天服务器
服务器：==nc -lk 1234==
客户端：nc 127.0.0.1 1234(多个客户端可以一次连接并聊天)
### 端口扫描
``` 
nc -zv 172.16.117.254 1-10000 #扫描host1-10000的端口（TCP）
nc -zvu 172.16.117.254 1-10000 #扫描host 1-10000的端口（UDP）
```
## 选项
- **-l**（--listen）：监听模式（服务器）。
- **-p**（--source-port）：指定源端口（客户端模式）。
- **-k**（--keep-open）：持久监听（连接断开后继续等待下一个）。**GNU 版支持**，OpenBSD 版不支持（需脚本循环）。
- **-u**：UDP 模式（默认 TCP）。
- **-v**（--verbose）：详细输出（显示连接信息）。
- **-z**：端口扫描模式（不发送数据，只检查端口开闭）。
- **-w 秒**（--wait）：超时设置（连接/读写超时）。
- **-n**：不解析 DNS（只用 IP）。
- **-4** / **-6**：强制 IPv4 或 IPv6。
- **-e program**：执行程序（危险！常用于反弹 shell，如 -e /bin/sh）。
- **-c**：执行命令（ncat 支持）。
- **-q 秒**：连接关闭后等待秒数退出（控制 EOF）。
# curl
curl（全称”client url“）是一个功能强大的命令行工具，用于通过url从服务器传输数据或向服务器传输数据。它支持大量协议，包括HTTP/HTTPS、FTP/FTPS、SCP等等（总共超过20种）。常被称作”数据传输的瑞士军刀“或”HTTP客户端“。具体可详见官网：[点击访问](https://curl.se)
## 基本语法
```
curl [选项] [URL...]
```
- 如果不提供URL，curl从标准输入（stdin）读取数据。
- 支持多个URL（顺序处理，或用--parallel并行）。
- 输出默认到标准输出（stdout），错误到标准错误（stderr）
### 简单示例
```
curl https://example.com
```
这会打印html内容
### 常见选项(按类别分组)
#### 输出与下载
```
- -o <文件> / --output <文件>：保存响应到文件（例如 -o myfile.html）。
- -O / --remote-name：使用服务器文件名保存（从 URL 中提取）。
- -J / --remote-header-name：结合 -O 使用，从 Content-Disposition 头获取文件名。
- -# / --progress-bar：显示进度条。
- -s / --silent：静默模式（不显示进度）。
- -S / --show-error：结合 -s 时仍显示错误。
- -i / --include：输出中包含响应头。
- -I / --head：仅获取头信息（HEAD 请求）。
- -D <文件> / --dump-header <文件>：保存头信息到文件。
- -w <格式> / --write-out <格式>：自定义传输后输出（例如 %{time_total} 显示总时间）。
```
#### 请求修改
```
-X <方法> / --request <方法>：指定请求方法（GET、POST、PUT、DELETE 等）。
-d <数据> / --data <数据>：发送 POST/PUT 数据（URL 编码）。用 @文件 从文件读取。
--data-binary <数据>：原样发送二进制数据（保留换行）。
--data-urlencode <数据>：URL 编码数据。
-F <name=content> / --form <name=content>：multipart 表单上传（例如文件上传用 @文件）。
-H <头> / --header <头>：添加自定义头（例如 -H "Authorization: Bearer token"）。
-A <代理> / --user-agent <代理>：设置 User-Agent。
--json <数据>：发送 JSON（自动设置 Content-Type 和 Accept 头）。
-e <URL> / --referer <URL>：设置 Referer 头。
```
#### 传输控制
```
- -L / --location：跟随重定向（HTTP 3xx）。
- -C - / --continue-at -：恢复中断的下载。
- --limit-rate <速度>：限速（例如 100K）。
- --max-time <秒>：整个操作超时。
- -T <文件> / --upload-file <文件>：上传文件。
- -Z / --parallel：多个 URL 并行传输。
```
#### #### 认证与安全
```
- -u <用户:密码> / --user <用户:密码>：Basic 认证。
- --basic、--digest、--ntlm、--negotiate：强制认证类型。
- -k / --insecure：跳过 SSL 验证（不安全，生产环境避免）。
- --cacert <文件>：自定义 CA 证书束。
- --cert <文件> / --key <密钥>：客户端证书。
```
#### 代理与网络
```
- -x <代理> / --proxy <代理>：使用代理（例如 http://proxy:8080）。
- --proxy-user <用户:密码>：代理认证。
- --socks5 <主机>：SOCKS5 代理。
```
#### 调试与详细输出
```
- -v / --verbose：详细输出（头信息、SSL 握手等）。
- --trace <文件>：完整跟踪转储。
```
## 实用示例
#### 下载文件
```
curl -O https://example.com/file.zip #保存为file.zip
```
#### 恢复中断下载
```
curl -C - -O https://cdimage.ubuntu.com/releases/24.04/release/ubuntu-24.04.3-live-server-arm64.iso?_gl=1*1m45mlj*_gcl_au*OTc4NTY0MDMyLjE3Njk1MDU4NjM.
```
##### 未加-C
![[Pasted image 20260129100754.png]]
强制停止
![[Pasted image 20260129100951.png]]
再次执行
![[Pasted image 20260129101035.png]]
==通过上面示例不难得出以下结论==
不加 ==`-C -`== 执行同一命令会产生覆盖效果
##### 加上-C

![[Pasted image 20260129101314.png]]
加上-C则会从上一次下载的位置继续下载，即便上一次执行的命令是 ==`-O`==
#### 仅获取头信息
- 请求
```
CURL -I https://cdimage.ubuntu.com/releases/24.04/release/ubuntu-24.04.3-live-server-arm64.iso
```
- 响应
```
HTTP/1.1 200 OK
Date: Thu, 29 Jan 2026 02:26:12 GMT
Server: Apache/2.4.29 (Ubuntu)
Last-Modified: Wed, 06 Aug 2025 15:53:05 GMT
ETag: "b2d7f000-63bb4561bbe8c"
Accept-Ranges: bytes
Content-Length: 3000496128
Content-Type: application/x-iso9660-image
```
####  post表单数据
```
curl -d "name=John&age=30" -X POST https://example.com/submit
```
#### post JSON
```
curl --json '{"key":"value"}' -X POST https://example.com/endpoint
```
#### 上传文件
```
curl -F "file=@localfile.txt" https://example.com/upload
```
# ps
ps（全称Process Status）
